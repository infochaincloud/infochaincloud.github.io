(this["webpackJsonpnft-minter"]=this["webpackJsonpnft-minter"]||[]).push([[0],{129:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"couponIds","type":"uint256[]"}],"name":"RedeemCoupon","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"couponCode","type":"string"}],"name":"claimCoupon","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"consumeCoupons","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPendingCoupons","outputs":[{"internalType":"address[]","name":"","type":"address[]"},{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getUserCoupons","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"couponCode","type":"string"},{"internalType":"string","name":"_tokenURI","type":"string"}],"name":"issueCoupon","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256[]","name":"couponIds","type":"uint256[]"}],"name":"redeemCoupon","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},171:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(40),c=n.n(s),o=n(7),i=n.n(o),u=n(10),l=n(8),d=(n(170),-1),p=0,j=1,b=2,h="0x1560Cb1E8918E7fB369fb623a1b628637Cca22e5",m="https://tan-casual-dog-715.mypinata.cloud/ipfs/",O="INcIawltcOkj6tfO64Ul0dkF4bYwqO23m_FZXIH-ZmmO9tVQhBh5Oafd_FmQe_5P",f="#F8E8EE";n(171);n(93).config();var x=n(135),y=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"?pinataGatewayToken=").concat(O),e.abrupt("return",x.get(n,{headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){return{success:!0,pinJson:e.data}})).catch((function(e){return console.log(e),{success:!1,message:e.message}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=(n(93),n(129)),w=new(n(130))("https://api.baobab.klaytn.net:8651/"),v=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,s,c,o,u,d,p,j,b,m,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.trim()){e.next=2;break}return e.abrupt("return",{success:!1,status:"\u2757Please make sure all fields are completed before minting."});case 2:return e.next=4,new w.eth.Contract(g,h);case 4:return window.contract=e.sent,n={to:h,from:window.ethereum.selectedAddress,data:window.contract.methods.getPendingCoupons().encodeABI()},e.prev=6,e.next=9,window.ethereum.request({method:"eth_call",params:[n]});case 9:for(a=e.sent,r=w.eth.abi.decodeParameters(["address[]","string[]"],a),s=[],c=[],o=0;o<r[0].length;o++)u={address:r[0][o],couponURI:r[1][o]},s.push(u);for(d=s.reduce((function(e,t){return e[t.address]?e[t.address].count=e[t.address].count+1:e[t.address]={couponURI:t.couponURI,count:1},e}),{}),p=0,j=Object.entries(d);p<j.length;p++)b=Object(l.a)(j[p],2),m=b[0],O=b[1],c.push({address:m,couponURI:O.couponURI,count:O.count});return e.abrupt("return",{success:!0,couponUsageList:c});case 19:return e.prev=19,e.t0=e.catch(6),e.abrupt("return",{success:!1,status:"\ud83d\ude25 Something went wrong: "+e.t0.message});case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.trim()){e.next=2;break}return e.abrupt("return",{success:!1,status:"\u2757Please make sure all fields are completed before minting."});case 2:return e.next=4,new w.eth.Contract(g,h);case 4:return window.contract=e.sent,n={to:h,from:window.ethereum.selectedAddress,data:window.contract.methods.consumeCoupons(t).encodeABI()},e.prev=6,e.next=9,window.ethereum.request({method:"eth_sendTransaction",params:[n]});case 9:return a=e.sent,w.eth.abi.decodeParameters(["bool"],a),e.abrupt("return",{success:!0});case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",{success:!1,status:"\ud83d\ude25 Something went wrong: "+e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),C=n(229),T=n(91),A=n(43),S=n(202),I=n(1),U=function(e){var t=e.walletAddress,n=e.couponUsage,r=e.setOpenReceive,s=e.setCouponUsageList,c=Object(a.useState)(null),o=Object(l.a)(c,2),d=o[0],p=o[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),h=b[0],m=b[1];Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n.couponURI);case 2:t=e.sent,p(t.pinJson);case 4:case"end":return e.stop()}}),e)}))));var O=function(){var e=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,k(n.address);case 3:if(!e.sent.success){e.next=10;break}return r(!1),e.next=8,v(t);case 8:(a=e.sent).success?s(a.couponUsageList):console.log(a.message);case 10:m(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(C.a,{children:[Object(I.jsxs)(T.a,{size:"big",style:{margin:"5px"},children:[Object(I.jsx)(A.a,{name:"user"}),String(n.address).substring(0,6)+".."+String(n.address).substring(40),Object(I.jsx)(T.a.Detail,{children:null===d?"loading...":" Coupon "+String(d.couponName)+" x "+String(n.count)})]}),h?Object(I.jsxs)(S.a,{size:"small",color:"green",style:{margin:"5px"},children:[Object(I.jsx)(A.a,{name:"circle notch",loading:!0})," Receive"]}):Object(I.jsx)(S.a,{size:"small",color:"green",style:{margin:"5px"},onClick:O,children:"Receive"})]})},M=n(225),L=n(230),R=function(e){var t=e.walletAddress,n=e.couponUsageList,r=e.setCouponUsageList,s=Object(a.useState)(!1),c=Object(l.a)(s,2),o=c[0],d=c[1],p=Object(a.useState)(!1),j=Object(l.a)(p,2),b=j[0],h=j[1];return Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.length>0?h(!0):h(!1);case 1:case"end":return e.stop()}}),e)}))),[n]),Object(I.jsxs)(M.a,{closeIcon:!0,open:o,trigger:Object(I.jsx)(L.a,{as:"h3",verticalAlign:"middle",children:b?Object(I.jsx)(A.a.Group,{size:"big",className:"blinking",style:{color:"#FFB84C",cursor:"grab"},children:Object(I.jsx)(A.a,{name:"bell"})}):Object(I.jsx)(A.a.Group,{size:"big",style:{cursor:"grab"},children:Object(I.jsx)(A.a,{name:"bell"})})}),onClose:function(){return d(!1)},onOpen:function(){return d(!0)},children:[Object(I.jsx)(L.a,{icon:"archive",content:"Coupon usage"}),Object(I.jsx)(M.a.Content,{children:n.map((function(e,n){return Object(I.jsx)(U,{walletAddress:t,couponUsage:e,setOpenReceive:d,setCouponUsageList:r})}))}),Object(I.jsx)(M.a.Actions,{children:Object(I.jsxs)(S.a,{color:"red",onClick:function(){return d(!1)},children:[Object(I.jsx)(A.a,{name:"remove"})," Close"]})})]})},_=function(e){var t=e.mode,n=e.walletAddress,a=e.couponUsageList,r=e.setCouponUsageList;return Object(I.jsxs)(C.a,{divided:"vertically",children:[Object(I.jsxs)(C.a.Row,{verticalAlign:"bottom",children:[Object(I.jsx)(C.a.Column,{float:"left",width:3,children:Object(I.jsx)(L.a,{as:"h3",children:Object(I.jsx)("span",{onClick:function(){window.location.reload()},style:{cursor:"grab"},children:t===b?Object(I.jsx)(A.a.Group,{size:"big",children:Object(I.jsx)(A.a,{name:"home"})}):Object(I.jsx)(A.a.Group,{size:"big",children:Object(I.jsx)(A.a,{name:"child"})})})})}),Object(I.jsx)(C.a.Column,{float:"left",width:10,children:Object(I.jsxs)(L.a,{as:"h3",style:{textAlign:"center"},children:["Welcome \xa0",String(n).substring(0,6)+".."+String(n).substring(40)]})}),t===b?Object(I.jsx)(C.a.Column,{float:"right",width:3,textAlign:"right",children:Object(I.jsx)(R,{walletAddress:n,couponUsageList:a,setCouponUsageList:r})}):Object(I.jsx)("div",{})]}),Object(I.jsx)(C.a.Row,{})]})};n(93).config();var F="b7b3e2a550520852f3a9",E="f61d9ac90cb2fb1b19e0071f71132ba062f8342453ced29f829ea41ad6ea4fce",z=n(135),D=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Object({walletAddress:{value:t,op:"eq"}}),a=JSON.stringify(n),r="https://api.pinata.cloud/data/pinList?status=pinned&metadata[keyvalues]=".concat(a),e.abrupt("return",z.get(r,{headers:{pinata_api_key:F,pinata_secret_api_key:E}}).then((function(e){return{success:!0,pinList:e.data.rows}})).catch((function(e){return console.log(e),{success:!1,message:e.message}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(i.a.mark((function e(t,n,a,r,s){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.pinata.cloud/pinning/pinFileToIPFS",(c=new FormData).append("file",t),c.append("pinataMetadata",JSON.stringify({name:a,keyvalues:{walletAddress:n,couponUnit:r,couponDescription:s}})),e.abrupt("return",z.post("https://api.pinata.cloud/pinning/pinFileToIPFS",c,{maxBodyLength:"Infinity",headers:{"Content-Type":"multipart/form-data; boundary=".concat(c._boundary),pinata_api_key:F,pinata_secret_api_key:E}}).then((function(e){return{success:!0,pinataUrl:m+e.data.IpfsHash}})).catch((function(e){return console.log(e),{success:!1,message:e.message}})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.pinata.cloud/pinning/pinJSONToIPFS",e.abrupt("return",z.post("https://api.pinata.cloud/pinning/pinJSONToIPFS",t,{headers:{"Content-Type":"application/json",pinata_api_key:F,pinata_secret_api_key:E}}).then((function(e){return{success:!0,pinataUrl:m+e.data.IpfsHash}})).catch((function(e){return console.log(e),{success:!1,message:e.message}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(93).config();var q=n(129),N=new(n(130))("https://api.baobab.klaytn.net:8651/");var G=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r,s,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=n.trim()){e.next=2;break}return e.abrupt("return",{success:!1,status:"\u2757Please make sure all fields are completed before minting."});case 2:return(a=new Object).couponName=t.metadata.name,a.couponUnit=t.metadata.keyvalues.couponUnit,a.couponDescription=t.metadata.keyvalues.couponDescription,a.image="".concat(m).concat(t.ipfs_pin_hash),e.next=9,B(a);case 9:if((r=e.sent).success){e.next=12;break}return e.abrupt("return",{success:!1,status:"\ud83d\ude22 Something went wrong while uploading your tokenURI."});case 12:return s=r.pinataUrl,c=Math.random().toString(36),e.next=16,new N.eth.Contract(q,h);case 16:return window.contract=e.sent,o={to:h,from:window.ethereum.selectedAddress,data:window.contract.methods.issueCoupon(n,c,s).encodeABI()},e.prev=18,e.next=21,window.ethereum.request({method:"eth_sendTransaction",params:[o]});case 21:return u=e.sent,e.abrupt("return",{success:!0,rand:c,status:"\u2705 Check out your transaction on Etherscan: https://baobab.scope.klaytn.com/tx/"+u});case 25:return e.prev=25,e.t0=e.catch(18),e.abrupt("return",{success:!1,status:"\ud83d\ude25 Something went wrong: "+e.t0.message});case 28:case"end":return e.stop()}}),e,null,[[18,25]])})));return function(t,n){return e.apply(this,arguments)}}(),H=(n(199),n(156)),J=n(223),W=n(219),V=n(222),Y=function(e){var t=e.walletAddress,n=e.coupon,r=Object(a.useState)(""),s=Object(l.a)(r,2),c=s[0],o=s[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),j=p[0],b=p[1],h=Object(a.useState)(!1),m=Object(l.a)(h,2),O=m[0],f=m[1],x=Object(a.useState)(!1),y=Object(l.a)(x,2),g=y[0],w=y[1],v=Object(a.useState)(!1),k=Object(l.a)(v,2),C=k[0],T=k[1],U=Object(a.useState)(""),R=Object(l.a)(U,2),_=R[0],F=R[1],E=Object(a.useState)(""),z=Object(l.a)(E,2),D=z[0],P=z[1];Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o("");case 1:case"end":return e.stop()}}),e)}))),[]);var B=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=12;break}return f(!0),e.next=4,G(n,c);case 4:t=e.sent,a=t.rand,r=t.status,f(!1),F(r),P(a),T(!0),w(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsxs)(M.a,{closeIcon:!0,onClose:function(){return w(!1)},onOpen:function(){return w(!0)},open:g,trigger:O?Object(I.jsxs)(S.a,{color:"green",style:{width:"100%"},children:[Object(I.jsx)(A.a,{name:"circle notch",loading:!0})," Mint"]}):Object(I.jsxs)(S.a,{color:"green",style:{width:"100%"},children:[Object(I.jsx)(A.a,{name:"checkmark"})," Mint"]}),centered:!0,style:{width:"50%"},children:[Object(I.jsx)(L.a,{icon:"add",content:"Mint coupon"}),Object(I.jsxs)(M.a.Actions,{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(I.jsx)(J.a.Field,{id:"form-input-control-name",control:W.a,placeholder:"User address",required:!0,onChange:function(e){String(e.target.value).toLowerCase().valueOf()===String(t).toLowerCase().valueOf()&&b(!0),o(e.target.value)}}),j?Object(I.jsx)(V.a,{content:"You cannot self mint a coupon.",trigger:Object(I.jsx)(S.a,{color:"grey",children:"Disabled"})}):O?Object(I.jsxs)(S.a,{color:"green",children:[Object(I.jsx)(A.a,{name:"circle notch",loading:!0})," Mint"]}):Object(I.jsxs)(S.a,{color:"green",onClick:function(){T(!1),B()},children:[Object(I.jsx)(A.a,{name:"checkmark"})," Mint"]})]})]}),Object(I.jsxs)(M.a,{closeIcon:!0,onClose:function(){return T(!1)},onOpen:function(){return T(!0)},open:C,centered:!0,children:[Object(I.jsx)(L.a,{icon:"archive",content:"Transaction result"}),Object(I.jsxs)(M.a.Content,{style:{textAlign:"center"},children:[Object(I.jsx)(H.a,{value:D}),Object(I.jsx)(M.a.Description,{children:Object(I.jsx)("p",{children:_})})]}),Object(I.jsx)(M.a.Actions,{children:Object(I.jsxs)(S.a,{color:"red",onClick:function(){return T(!1)},children:[Object(I.jsx)(A.a,{name:"remove"})," Close"]})})]})]})},Q=n(227),Z=n(155),X=function(e){var t=e.walletAddress,n=e.coupon;e.idx;return Object(I.jsx)("div",{style:{marginBottom:"5px"},children:Object(I.jsxs)(Q.a,{centered:!0,children:[Object(I.jsx)(Z.a,{src:"".concat(m).concat(n.ipfs_pin_hash,"/?pinataGatewayToken=").concat(O),crossOrigin:"anonymous",alt:n.name}),Object(I.jsxs)(Q.a.Content,{textAlign:"center",children:[Object(I.jsx)(Q.a.Header,{children:n.metadata.name}),Object(I.jsx)(Q.a.Description,{textAlign:"left",children:n.metadata.keyvalues.couponDescription})]}),Object(I.jsxs)(Q.a.Content,{extra:!0,textAlign:"left",children:["Redemption unit: ",n.metadata.keyvalues.couponUnit]}),Object(I.jsx)(Y,{walletAddress:t,coupon:n})]})})},K=n(228),$=function(e){var t=e.message,n=e.success,a=e.alertVisible,r=e.setAlertVisible;return Object(I.jsxs)(K.a,{success:n,hidden:!a,onDismiss:function(){return r(!1)},style:{width:"20%",position:"fixed",top:"0%",left:"50%",transform:"translate(-50%, 0%)",verticalAlign:"middle",textAlign:"left"},children:[Object(I.jsx)(K.a.Header,{children:n?"Success":"Error"}),Object(I.jsx)("p",{children:t})]})},ee=n(125),te=n(154),ne=n(231),ae=function(e){var t=e.onChangeImage,n=Object(a.useCallback)((function(e){t(e[0])}),[t]),r=Object(te.a)({onDrop:n}),s=r.getRootProps,c=r.getInputProps;return Object(I.jsx)("div",Object(ee.a)(Object(ee.a)({},s()),{},{children:Object(I.jsxs)(ne.a,{placeholder:!0,children:[Object(I.jsxs)(L.a,{icon:!0,children:[Object(I.jsx)(A.a,{name:"file image outline"}),"Drag and drop an image here or click to select an image"]}),Object(I.jsx)(S.a,{primary:!0,children:"Add Image"}),Object(I.jsx)("input",Object(ee.a)({},c()))]})}))},re=n(220),se=function(e){var t=e.walletAddress,n=Object(a.useState)(""),r=Object(l.a)(n,2),s=r[0],c=r[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),p=d[0],j=d[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],O=h[1],f=Object(a.useState)(null),x=Object(l.a)(f,2),y=x[0],g=x[1],w=Object(a.useState)(null),v=Object(l.a)(w,2),k=v[0],C=v[1],T=Object(a.useState)(!1),U=Object(l.a)(T,2),R=U[0],_=U[1],F=Object(a.useState)(!1),E=Object(l.a)(F,2),z=E[0],D=E[1],B=Object(a.useState)(!1),q=Object(l.a)(B,2),N=q[0],G=q[1],H=Object(a.useState)(!1),V=Object(l.a)(H,2),Y=V[0],Q=V[1],X=Object(a.useState)(""),K=Object(l.a)(X,2),ee=K[0],te=K[1],ne=Object(a.useState)(!1),se=Object(l.a)(ne,2),ce=se[0],oe=se[1];Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(""),c("");case 2:case"end":return e.stop()}}),e)}))),[]);var ie=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,P(y,t,s,p,m);case 3:n=e.sent,G(!1),D(!1),C(null),n.success?(oe(!0),te("Coupon registered successfully!")):(oe(!1),te("Coupon registration failed!")),Q(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Y?Object(I.jsx)($,{message:ee,success:ce,alertVisible:Y,setAlertVisible:Q}):Object(I.jsx)("div",{}),Object(I.jsxs)(M.a,{closeIcon:!0,open:z,trigger:Object(I.jsxs)(A.a.Group,{size:"big",onMouseOver:function(){return _(!0)},onMouseLeave:function(){return _(!1)},style:{cursor:"grabbing"},children:[Object(I.jsx)(A.a,{name:"ticket"}),R?Object(I.jsx)(A.a,{corner:!0,loading:!0,name:"add"}):Object(I.jsx)(A.a,{corner:!0,name:"add"})]}),onClose:function(){return D(!1)},onOpen:function(){return D(!0)},children:[Object(I.jsx)(L.a,{icon:"add",content:"Add new coupon"}),Object(I.jsx)(M.a.Content,{children:Object(I.jsxs)(J.a,{children:[Object(I.jsx)(J.a.Field,{id:"form-input-control-name",control:W.a,label:"Coupon name",placeholder:"Coupon name",required:!0,onChange:function(e){c(e.target.value)}}),Object(I.jsx)(J.a.Field,{id:"form-input-control-name",control:W.a,label:"Redemption unit",placeholder:"10",required:!0,onChange:function(e){j(e.target.value)}}),Object(I.jsx)(J.a.Field,{id:"form-textarea-control-description",control:re.a,label:"Description",placeholder:"Description",required:!0,onChange:function(e){O(e.target.value)}}),k?Object(I.jsx)(Z.a,{src:k}):Object(I.jsx)(ae,{onChangeImage:function(e){g(e),C(URL.createObjectURL(e))}})]})}),Object(I.jsxs)(M.a.Actions,{children:[Object(I.jsxs)(S.a,{color:"red",onClick:function(){return D(!1)},children:[Object(I.jsx)(A.a,{name:"remove"})," Cancel"]}),N?Object(I.jsxs)(S.a,{color:"green",children:[Object(I.jsx)(A.a,{name:"circle notch",loading:!0})," Add"]}):Object(I.jsxs)(S.a,{color:"green",onClick:ie,children:[Object(I.jsx)(A.a,{name:"checkmark"})," Add"]})]})]})]})},ce=function(e){var t=e.refreshCallback,n=Object(a.useState)(!1),r=Object(l.a)(n,2),s=r[0],c=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),p=d[0],j=d[1];Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[]);var b=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),t(),j(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(A.a.Group,{size:"large",onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)},style:{cursor:"grabbing"},onClick:function(){return b()},children:p?Object(I.jsx)(A.a,{loading:!0,color:"grey",name:"spinner"}):s?Object(I.jsx)(A.a,{loading:!0,color:"grey",name:"redo alternate"}):Object(I.jsx)(A.a,{color:"grey",name:"redo alternate"})})},oe=n(221),ie=function(e){var t=e.walletAddress,n=e.couponList,a=e.setCouponList,r=e.setCouponUsageList,s=function(){var e=Object(u.a)(i.a.mark((function e(){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return(n=e.sent).success?a(n.pinList):console.log(n.message),e.next=6,v(t);case 6:(s=e.sent).success?r(s.couponUsageList):console.log(s.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(C.a,{divided:"vertically",children:Object(I.jsx)(C.a.Row,{columns:1,children:Object(I.jsx)(C.a.Column,{children:Object(I.jsxs)(L.a,{as:"h3",style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[Object(I.jsx)(se,{walletAddress:t}),"\xa0 Coupon types",Object(I.jsx)("view",{style:{position:"absolute",right:"5%"},children:Object(I.jsx)(ce,{refreshCallback:s})})]})})})}),Object(I.jsx)(C.a,{centered:!0,children:0===n.length?Object(I.jsx)(oe.a,{width:"100%",style:{margin:"10px"},children:Object(I.jsx)(L.a,{as:"h3",style:{textAlign:"center"},children:Object(I.jsx)("i",{children:"Try add your own coupon type!"})})}):n.map((function(e){return Object(I.jsx)(X,{walletAddress:t,coupon:e})}))})]})},ue=function(e){var t=e.walletAddress,n=Object(a.useState)([]),r=Object(l.a)(n,2),s=r[0],c=r[1],o=Object(a.useState)([]),d=Object(l.a)(o,2),p=d[0],j=d[1];return Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return(n=e.sent).success?c(n.pinList):console.log(n.message),e.next=6,v(t);case 6:(a=e.sent).success?j(a.couponUsageList):console.log(a.message);case 8:case"end":return e.stop()}}),e)}))),[]),Object(I.jsx)("div",{style:{display:"flex",justifyContent:"center",backgroundColor:f,height:"100vh"},children:Object(I.jsxs)(ne.a,{style:{width:"50%"},children:[Object(I.jsx)(_,{mode:b,walletAddress:t,couponUsageList:p,setCouponUsageList:j}),Object(I.jsx)(ie,{walletAddress:t,couponList:s,setCouponList:c,setCouponUsageList:j})]})})},le=n(129),de=new(n(130))("https://api.baobab.klaytn.net:8651/"),pe=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new de.eth.Contract(le,h);case 2:return window.contract=e.sent,t={to:h,from:window.ethereum.selectedAddress,data:window.contract.methods.getUserCoupons().encodeABI()},e.prev=4,e.next=7,window.ethereum.request({method:"eth_call",params:[t]});case 7:return n=e.sent,a=de.eth.abi.decodeParameters(["address[]","string[]"],n),e.abrupt("return",{success:!0,tokenIds:a[0],couponURIs:a[1]});case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",{success:!1,status:"\ud83d\ude25 Something went wrong with getUserCouponList: "+e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.trim()){e.next=2;break}return e.abrupt("return",{success:!1,status:"\u2757Please make sure all fields are completed before minting."});case 2:return e.next=4,new de.eth.Contract(le,h);case 4:return window.contract=e.sent,n={to:h,from:window.ethereum.selectedAddress,data:window.contract.methods.claimCoupon(t).encodeABI()},e.prev=6,e.next=9,window.ethereum.request({method:"eth_sendTransaction",params:[n]});case 9:return a=e.sent,r=de.eth.abi.decodeParameters(["uint256"],a),e.abrupt("return",{success:!0,couponId:r});case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",{success:!1,status:"\ud83d\ude25 Something went wrong with claimCoupon: "+e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.trim()){e.next=2;break}return e.abrupt("return",{success:!1,status:"\u2757Please make sure all fields are completed before minting."});case 2:return e.next=4,new de.eth.Contract(le,h);case 4:return window.contract=e.sent,a={to:h,from:window.ethereum.selectedAddress,data:window.contract.methods.redeemCoupon(t,n).encodeABI()},e.prev=6,e.next=9,window.ethereum.request({method:"eth_sendTransaction",params:[a]});case 9:return e.abrupt("return",{success:!0});case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",{success:!1,status:"\ud83d\ude25 Something went wrong with claimCoupon: "+e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(e){var t=e.coupon,n=Object(a.useState)(""),r=Object(l.a)(n,2),s=r[0],c=r[1],o=Object(a.useState)(0),d=Object(l.a)(o,2),p=d[0],j=d[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1],f=Object(a.useState)(!1),x=Object(l.a)(f,2),y=x[0],g=x[1],w=Object(a.useState)(!1),v=Object(l.a)(w,2),k=v[0],C=v[1];Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=void 0===t.couponUnit?1:t.couponUnit,C(t.couponCount>=n);case 2:case"end":return e.stop()}}),e)}))),[t]);var T=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,be(s,t.couponIds.slice(0,Number(p)));case 3:(n=e.sent).success||console.log(n.status),O(!1),g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:Object(I.jsxs)(M.a,{closeIcon:!0,onClose:function(){return g(!1)},onOpen:function(){return g(!0)},open:y,trigger:k?m?Object(I.jsxs)(S.a,{color:"green",style:{width:"100%"},children:[Object(I.jsx)(A.a,{name:"circle notch",loading:!0})," Redeem"]}):Object(I.jsxs)(S.a,{color:"green",style:{width:"100%"},children:[Object(I.jsx)(A.a,{name:"checkmark"})," Redeem"]}):Object(I.jsxs)(S.a,{color:"grey",disabled:"true",style:{width:"100%"},children:[Object(I.jsx)(A.a,{name:"checkmark"})," Not Enough Coupons"]}),centered:!0,style:{width:"50%"},children:[Object(I.jsx)(L.a,{icon:"add",content:"Redeem coupon"}),Object(I.jsx)(M.a.Content,{children:Object(I.jsxs)(J.a,{children:[Object(I.jsx)(J.a.Field,{id:"form-input-control-name",control:W.a,label:"Store address",placeholder:"Store address",required:!0,onChange:function(e){c(e.target.value)}}),Object(I.jsx)(J.a.Field,{id:"form-input-control-name",control:W.a,label:"Number of coupons",placeholder:void 0===t.couponUnit?"Redemption Unit : 1":"Redemption Unit : "+t.couponUnit,required:!0,onChange:function(e){j(e.target.value)}})]})}),Object(I.jsxs)(M.a.Actions,{children:[Object(I.jsxs)(S.a,{color:"red",onClick:function(){return g(!1)},children:[Object(I.jsx)(A.a,{name:"remove"})," Cancel"]}),m?Object(I.jsxs)(S.a,{color:"green",children:[Object(I.jsx)(A.a,{name:"circle notch",loading:!0})," Redeem"]}):Object(I.jsxs)(S.a,{color:"green",onClick:T,children:[Object(I.jsx)(A.a,{name:"checkmark"})," Redeem"]})]})]})})},me=function(e){var t=e.coupon;return Object(I.jsx)("div",{style:{marginBottom:"5px"},children:Object(I.jsxs)(Q.a,{centered:!0,children:[Object(I.jsx)(Z.a,{src:"".concat(t.image,"/?pinataGatewayToken=").concat(O),alt:t.couponName,crossOrigin:"anonymous"}),Object(I.jsxs)(Q.a.Content,{textAlign:"center",children:[Object(I.jsx)(Q.a.Header,{children:t.couponName}),Object(I.jsx)(Q.a.Description,{style:{textAlign:"left"},children:t.couponDescription})]}),Object(I.jsxs)(Q.a.Content,{extra:!0,children:["Coupon count: ",t.couponCount," / ",Object(I.jsx)("b",{children:void 0===t.couponUnit?1:t.couponUnit})]}),Object(I.jsx)(he,{coupon:t})]})})},Oe=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a,r,s,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:if(!(t=e.sent).success){e.next=26;break}for(n={},a=[],r=0;r<t.couponURIs.length;r++)t.couponURIs[r]in n?(n[t.couponURIs[r]][0]+=1,n[t.couponURIs[r]][1].push(t.tokenIds[r])):(n[t.couponURIs[r]]=[1,[t.tokenIds[r]]],a.push(t.couponURIs[r]));s=[],c=0;case 9:if(!(c<a.length)){e.next=23;break}return e.prev=10,e.next=13,y(a[c]);case 13:(o=e.sent).success?((u=o.pinJson).couponCount=n[a[c]][0],u.couponIds=n[a[c]][1],s.push(u)):console.log("Error during getting json from uri: "+o.message),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),console.log("pinataResponse error: "+e.t0);case 20:c++,e.next=9;break;case 23:return e.abrupt("return",{success:!0,couponList:s});case 26:return e.abrupt("return",{success:!1,status:t.status});case 27:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(){return e.apply(this,arguments)}}(),fe=function(e){var t=e.setCouponList,n=Object(a.useState)(""),r=Object(l.a)(n,2),s=r[0],c=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),p=d[0],j=d[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1],f=Object(a.useState)(!1),x=Object(l.a)(f,2),y=x[0],g=x[1];Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c("");case 1:case"end":return e.stop()}}),e)}))),[]);var w=function(){var e=Object(u.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,je(s);case 3:return(n=e.sent).success||console.log(n.message),e.next=7,Oe();case 7:(a=e.sent).success?t(a.couponList):console.log(a.status),g(!1),O(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(M.a,{closeIcon:!0,open:m,trigger:Object(I.jsxs)(A.a.Group,{size:"big",onMouseOver:function(){return j(!0)},onMouseLeave:function(){return j(!1)},style:{cursor:"grabbing"},children:[Object(I.jsx)(A.a,{name:"ticket"}),p?Object(I.jsx)(A.a,{corner:!0,loading:!0,name:"add"}):Object(I.jsx)(A.a,{corner:!0,name:"add"})]}),onClose:function(){return O(!1)},onOpen:function(){return O(!0)},children:[Object(I.jsx)(L.a,{icon:"add",content:"Add new coupon"}),Object(I.jsx)(M.a.Content,{children:Object(I.jsx)(J.a,{children:Object(I.jsx)(J.a.Field,{id:"form-input-control-name",control:W.a,label:"Coupon code",placeholder:"Coupon code",required:!0,onChange:function(e){c(e.target.value)}})})}),Object(I.jsxs)(M.a.Actions,{children:[Object(I.jsxs)(S.a,{color:"red",onClick:function(){return O(!1)},children:[Object(I.jsx)(A.a,{name:"remove"})," Cancel"]}),y?Object(I.jsxs)(S.a,{color:"green",children:[Object(I.jsx)(A.a,{name:"circle notch",loading:!0})," Add"]}):Object(I.jsxs)(S.a,{color:"green",onClick:w,children:[Object(I.jsx)(A.a,{name:"checkmark"})," Add"]})]})]})},xe=function(e){var t=e.couponList,n=e.setCouponList,a=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:(t=e.sent).success?n(t.couponList):console.log(t.status);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{children:[Object(I.jsx)(C.a,{divided:"vertically",children:Object(I.jsx)(C.a.Row,{columns:1,children:Object(I.jsx)(C.a.Column,{children:Object(I.jsxs)(L.a,{as:"h3",style:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(fe,{setCouponList:n}),"\xa0 My coupons"]}),Object(I.jsx)("view",{style:{position:"absolute",right:"5%"},children:Object(I.jsx)(ce,{refreshCallback:a})})]})})})}),Object(I.jsx)(C.a,{centered:!0,children:0===t.length?Object(I.jsx)(oe.a,{width:"100%",style:{margin:"10px"},children:Object(I.jsx)(L.a,{as:"h3",style:{textAlign:"center"},children:Object(I.jsx)("i",{children:"Try add your own coupon!"})})}):t.map((function(e){return Object(I.jsx)(me,{coupon:e})}))})]})},ye=function(e){var t=e.walletAddress,n=Object(a.useState)([]),r=Object(l.a)(n,2),s=r[0],c=r[1];return Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:(t=e.sent).success?c(t.couponList):console.log(t.status);case 4:case"end":return e.stop()}}),e)}))),[]),Object(I.jsx)("div",{style:{display:"flex",justifyContent:"center",backgroundColor:f,height:"100vh"},children:Object(I.jsxs)(ne.a,{style:{width:"50%"},children:[Object(I.jsx)(_,{mode:j,walletAddress:t}),Object(I.jsx)(xe,{couponList:s,setCouponList:c})]})})},ge=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=14;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,n={status:"\ud83d\udc46\ud83c\udffd Write a message in the text-field above.",address:t[0]},e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{address:"",status:"\ud83d\ude25 "+e.t0.message});case 12:e.next=15;break;case 14:return e.abrupt("return",{address:"",status:Object(I.jsx)("span",{children:Object(I.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(I.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]})})});case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=17;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_accounts"});case 4:if(!((t=e.sent).length>0)){e.next=9;break}return e.abrupt("return",{address:t[0],status:"\ud83d\udc46\ud83c\udffd Login"});case 9:return e.abrupt("return",{address:"",status:"\ud83e\udd8a Connect to Metamask using the top right button."});case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{address:"",status:"\ud83d\ude25 "+e.t0.message});case 15:e.next=18;break;case 17:return e.abrupt("return",{address:"",status:Object(I.jsx)("span",{children:Object(I.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(I.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]})})});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ve=function(e){var t=e.setWalletAddress,n=e.setMode,r=e.setStatus,s=Object(a.useState)(!1),c=Object(l.a)(s,2),o=c[0],d=c[1];function j(){window.ethereum?window.ethereum.on("accountsChanged",(function(e){e.length>0?(t(e[0]),n(p)):t("")})):r(Object(I.jsxs)("p",{children:[" ","\ud83e\udd8a ",Object(I.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",children:"You must install MetaMask, a virtual Ethereum wallet, in your browser."})]}))}Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){var a,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:a=e.sent,s=a.address,c=a.status,t(s),r(c),""!==s&&n(p),j();case 9:case"end":return e.stop()}}),e)}))),[]);var b=function(){var e=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,ge();case 3:a=e.sent,d(!1),r(a.status),t(a.address),""!==a.address&&n(p);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{children:Object(I.jsxs)(Q.a,{onClick:b,centered:!0,children:[Object(I.jsx)("div",{style:{textAlign:"center",paddingTop:"30px",paddinBbottom:"30px"},children:o?Object(I.jsx)("div",{children:Object(I.jsxs)(A.a.Group,{size:"huge",children:[Object(I.jsx)(A.a,{loading:!0,size:"big",color:"black",name:"circle notch"}),Object(I.jsx)(A.a,{color:"black",name:"user"})]})}):Object(I.jsx)("div",{children:Object(I.jsxs)(A.a.Group,{size:"huge",children:[Object(I.jsx)(A.a,{size:"big",color:"black",name:"circle outline"}),Object(I.jsx)(A.a,{color:"black",name:"user"})]})})}),Object(I.jsxs)(Q.a.Content,{textAlign:"center",children:[Object(I.jsx)(Q.a.Header,{children:"Welcome!"}),Object(I.jsx)(Q.a.Description,{children:"Log-in with your wallet"})]}),Object(I.jsx)(Q.a.Content,{extra:!0,children:Object(I.jsxs)("a",{children:[Object(I.jsx)(A.a,{name:"users"}),"22 users logged-in"]})})]})})},ke=function(e){var t=e.setMode;return Object(I.jsxs)(C.a,{children:[Object(I.jsx)(C.a.Column,{width:8,children:Object(I.jsxs)(Q.a,{onClick:function(){t(b)},centered:!0,children:[Object(I.jsx)("div",{style:{textAlign:"center",paddingTop:"30px",paddingBottom:"30px"},children:Object(I.jsxs)(A.a.Group,{size:"huge",children:[Object(I.jsx)(A.a,{size:"big",color:"black",name:"circle outline"}),Object(I.jsx)(A.a,{color:"black",name:"home"})]})}),Object(I.jsxs)(Q.a.Content,{textAlign:"center",children:[Object(I.jsx)(Q.a.Header,{children:"Store"}),Object(I.jsx)(Q.a.Description,{children:"Stores who will issue NFT coupons go here"})]})]})},1),Object(I.jsx)(C.a.Column,{width:8,children:Object(I.jsxs)(Q.a,{onClick:function(){t(j)},centered:!0,children:[Object(I.jsx)("div",{style:{textAlign:"center",paddingTop:"30px",paddingBottom:"30px"},children:Object(I.jsxs)(A.a.Group,{size:"huge",children:[Object(I.jsx)(A.a,{size:"big",color:"black",name:"circle outline"}),Object(I.jsx)(A.a,{color:"black",name:"child"})]})}),Object(I.jsxs)(Q.a.Content,{textAlign:"center",children:[Object(I.jsx)(Q.a.Header,{children:"User"}),Object(I.jsx)(Q.a.Description,{children:"Users who will use NFT coupons go here"})]})]})},2)]})},Ce=n.p+"static/media/test.01e9901b.jpeg",Te=n(224),Ae=n(226),Se=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(l.a)(s,2),o=c[0],h=c[1],m=Object(a.useState)(""),O=Object(l.a)(m,2),f=O[0],x=O[1],y=Object(a.useState)(!0),g=Object(l.a)(y,2),w=g[0],v=g[1],k=Object(a.useState)(!1),C=Object(l.a)(k,2),T=C[0],S=C[1],U=Object(a.useState)(!1),M=Object(l.a)(U,2),L=M[0],R=M[1];return Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(o),x(d);case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f===d||f===p?(v(!0),S(!1),R(!1)):f===b?(v(!1),setTimeout((function(){S(!0),R(!1)}),1e3)):f===j&&(v(!1),setTimeout((function(){S(!1),R(!0)}),1e3));case 1:case"end":return e.stop()}}),e)}))),[f]),Object(I.jsxs)(oe.a,{children:[Object(I.jsx)(Te.a,{open:w,transition:{animation:"fade up",duration:1e3},children:Object(I.jsxs)(ne.a,{children:[Object(I.jsx)("div",{style:{backgroundColor:"black"},children:Object(I.jsx)(Z.a,{src:Ce,alt:"Main Image",style:{minHeight:"140px",opacity:"0.9",brightness:"0.5"}})}),Object(I.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:f===d?Object(I.jsx)(ve,{setWalletAddress:r,setMode:x,setStatus:h}):f===p?Object(I.jsx)(ke,{setMode:x}):Object(I.jsx)("div",{})}),Object(I.jsxs)("div",{style:{position:"absolute",top:"10%",left:"0",color:"black",textAlign:"center",width:"100%"},children:[Object(I.jsxs)("p",{style:{fontSize:"40px",fontWeight:"bold"},children:["Make your own ",Object(I.jsx)("span",{style:{color:"red"},children:"NFT"})," coupon!"]}),Object(I.jsxs)(Ae.a,{size:"huge",horizontal:!0,children:[Object(I.jsxs)(Ae.a.Item,{children:[Object(I.jsx)(A.a,{name:"computer"}),Object(I.jsx)(Ae.a.Content,{children:Object(I.jsx)(Ae.a.Header,{children:"Liberate yourself from offline coupons"})})]}),Object(I.jsxs)(Ae.a.Item,{children:[Object(I.jsx)(A.a,{name:"world"}),Object(I.jsx)(Ae.a.Content,{children:Object(I.jsx)(Ae.a.Header,{children:"Avoid contracts with centralized platforms"})})]}),Object(I.jsxs)(Ae.a.Item,{children:[Object(I.jsx)(A.a,{name:"wi-fi"}),Object(I.jsx)(Ae.a.Content,{children:Object(I.jsx)(Ae.a.Header,{children:"Freely establish and promote your brand online"})})]})]})]})]})}),Object(I.jsx)(Te.a,{open:T,transition:{animation:"fade up",duration:0},children:Object(I.jsx)(ue,{walletAddress:n})}),Object(I.jsx)(Te.a,{open:L,transition:{animation:"fade up",duration:0},children:Object(I.jsx)(ye,{walletAddress:n})})]})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,233)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(Se,{})}),document.getElementById("root")),Ie()}},[[201,1,2]]]);
//# sourceMappingURL=main.3a44cea7.chunk.js.map